<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>数据校验报告</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: #f5f7fa;
      padding: 20px;
      line-height: 1.6;
    }

    .report-container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .report-header {
      background: #2563eb;
      color: white;
      padding: 30px 40px;
      text-align: center;
    }

    .report-title {
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .report-subtitle {
      font-size: 1rem;
      opacity: 0.9;
    }

    .status-badge {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 4px;
      font-size: 0.9rem;
      font-weight: 500;
      margin-top: 15px;
    }

    .status-success {
      background-color: #10b981;
    }

    .status-failed {
      background-color: #ef4444;
    }

    .report-content {
      padding: 40px;
    }

    .section {
      margin-bottom: 30px;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      overflow: hidden;
    }

    .section-header {
      background-color: #f9fafb;
      padding: 16px 20px;
      border-bottom: 1px solid #e5e7eb;
    }

    .section-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: #1f2937;
    }

    .validation-table {
      width: 100%;
      border-collapse: collapse;
    }

    .validation-table th {
      background-color: #f3f4f6;
      padding: 12px 16px;
      text-align: left;
      font-weight: 500;
      color: #4b5563;
      border-bottom: 1px solid #e5e7eb;
      font-size: 0.9rem;
    }

    .validation-table td {
      padding: 12px 16px;
      border-bottom: 1px solid #f3f4f6;
      vertical-align: middle;
    }

    .validation-table tr:hover {
      background-color: #f9fafb;
    }

    .field-name {
      font-weight: 500;
      color: #374151;
    }

    .field-value {
      background: #f8fafc;
      padding: 4px 8px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      color: #1f2937;
    }

    .confidence {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.85rem;
    }

    .confidence-bar {
      width: 50px;
      height: 6px;
      background-color: #e5e7eb;
      border-radius: 3px;
      overflow: hidden;
    }

    .confidence-fill {
      height: 100%;
      border-radius: 3px;
    }

    .confidence-high { background-color: #10b981; }
    .confidence-medium { background-color: #f59e0b; }
    .confidence-low { background-color: #ef4444; }

    .result-badge {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 4px 10px;
      border-radius: 3px;
      font-size: 0.8rem;
      font-weight: 500;
    }

    .result-pass {
      background-color: #d1fae5;
      color: #065f46;
    }

    .result-fail {
      background-color: #fee2e2;
      color: #991b1b;
    }

    .result-pending {
      background-color: #fef3c7;
      color: #92400e;
    }

    .error-message {
      background-color: #fef2f2;
      border: 1px solid #fecaca;
      border-radius: 4px;
      padding: 8px 12px;
      margin-top: 8px;
      color: #991b1b;
      font-size: 0.85rem;
    }

    @media (max-width: 768px) {
      body {
        padding: 10px;
      }

      .report-content {
        padding: 20px;
      }

      .validation-table {
        font-size: 0.8rem;
      }

      .validation-table th,
      .validation-table td {
        padding: 8px 12px;
      }

      .report-title {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
<div class="report-container">
  <div class="report-header">
    <h1 class="report-title">数据校验报告</h1>
    <p class="report-subtitle">{$subtitle|htmlentities}</p>
    {if $verification_status == 'Success'}
    <div class="status-badge status-success">校验通过</div>
    {else}
    <div class="status-badge status-failed">校验失败</div>
    {/if}
  </div>

  <div class="report-content">
    <!-- SN图片与验机图片校验结果 -->
    <div class="section">
      <div class="section-header">
        <h2 class="section-title">SN图片与验机图片校验结果</h2>
      </div>
      <table class="validation-table">
        <thead>
        <tr>
          <th>校验项目</th>
          <th>主表内容</th>
          <th>SN图片识别</th>
          <th>可信度</th>
          <th>验机图片识别</th>
          <th>可信度</th>
          <th>校验结果</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td class="field-name">SN码</td>
          <td><span class="field-value">{$row.serial_number|default='N/A'}</span></td>
          <td><span class="field-value">{$row.serial_number|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>95%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 95%"></div>
              </div>
            </div>
          </td>
          <td><span class="field-value">{$row.serial_number|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>90%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 90%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">69码</td>
          <td><span class="field-value">{$row.ean_code|default='N/A'}</span></td>
          <td><span class="field-value">{$row.ean_code|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>88%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 88%"></div>
              </div>
            </div>
          </td>
          <td><span class="field-value">{$row.ean_code|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>92%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 92%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">IMEI1码</td>
          <td><span class="field-value">{$row.imei1|default='N/A'}</span></td>
          <td><span class="field-value">{$row.imei1|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>78%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-medium" style="width: 78%"></div>
              </div>
            </div>
          </td>
          <td><span class="field-value">{$row.imei1|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>85%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 85%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">IMEI2码</td>
          <td><span class="field-value">{$row.imei2|default='N/A'}</span></td>
          <td><span class="field-value">{$row.imei2|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>88%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 88%"></div>
              </div>
            </div>
          </td>
          <td><span class="field-value">{$row.imei2|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>92%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 92%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- 发票校验结果 -->
    <div class="section">
      <div class="section-header">
        <h2 class="section-title">发票校验结果</h2>
      </div>
      <table class="validation-table">
        <thead>
        <tr>
          <th>校验项目</th>
          <th>主表内容</th>
          <th>发票识别内容</th>
          <th>可信度</th>
          <th>校验结果</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td class="field-name">销售方名称</td>
          <td><span class="field-value">{$row.store_name|default='N/A'}</span></td>
          <td><span class="field-value">{$row.store_name|default='N/A'}</span></td>
          <td>
            <div class="confidence">
              <span>96%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 96%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">购买方</td>
          <td><span class="field-value">张三</span></td>
          <td><span class="field-value">张三</span></td>
          <td>
            <div class="confidence">
              <span>89%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 89%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">商品名称</td>
          <td><span class="field-value">Apple iPhone 14 128GB</span></td>
          <td><span class="field-value">Apple iPhone 14 128GB 蓝色</span></td>
          <td>
            <div class="confidence">
              <span>92%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 92%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">订单金额</td>
          <td><span class="field-value">5299.00</span></td>
          <td><span class="field-value">5299.00</span></td>
          <td>
            <div class="confidence">
              <span>98%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 98%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">政府补贴金额</td>
          <td><span class="field-value">500.00</span></td>
          <td><span class="field-value">500.00</span></td>
          <td>
            <div class="confidence">
              <span>95%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 95%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">实付金额</td>
          <td><span class="field-value">4799.00</span></td>
          <td><span class="field-value">4799.00</span></td>
          <td>
            <div class="confidence">
              <span>98%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 98%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">开票日期</td>
          <td><span class="field-value">2025-03-15</span></td>
          <td><span class="field-value">2025-03-14</span></td>
          <td>
            <div class="confidence">
              <span>85%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 85%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-fail">✗ 失败</span>
            <div class="error-message">
              开票日期不匹配：主表显示2025-03-15，发票显示2025-03-14
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- 物流轨迹校验结果 -->
    <div class="section">
      <div class="section-header">
        <h2 class="section-title">物流轨迹校验结果</h2>
      </div>
      <table class="validation-table">
        <thead>
        <tr>
          <th>校验项目</th>
          <th>主表内容</th>
          <th>物流轨迹识别</th>
          <th>可信度</th>
          <th>校验结果</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td class="field-name">物流单号</td>
          <td><span class="field-value">SF1234567890</span></td>
          <td><span class="field-value">SF1234567890</span></td>
          <td>
            <div class="confidence">
              <span>94%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 94%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">收货地址</td>
          <td><span class="field-value">福建省福州市鼓楼区</span></td>
          <td><span class="field-value">福建省福州市鼓楼区五四路123号</span></td>
          <td>
            <div class="confidence">
              <span>87%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 87%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">签收状态</td>
          <td><span class="field-value">已签收</span></td>
          <td><span class="field-value">已签收</span></td>
          <td>
            <div class="confidence">
              <span>92%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 92%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        <tr>
          <td class="field-name">签收时间</td>
          <td><span class="field-value">2025-03-17 18:30</span></td>
          <td><span class="field-value">-</span></td>
          <td>
            <div class="confidence">
              <span>0%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-low" style="width: 0%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pending">⏳ 待审核</span>
            <div class="error-message">
              物流轨迹图中未能识别到明确的签收时间信息，需要人工确认
            </div>
          </td>
        </tr>
        <tr>
          <td class="field-name">签收人</td>
          <td><span class="field-value">张三</span></td>
          <td><span class="field-value">张三</span></td>
          <td>
            <div class="confidence">
              <span>88%</span>
              <div class="confidence-bar">
                <div class="confidence-fill confidence-high" style="width: 88%"></div>
              </div>
            </div>
          </td>
          <td>
            <span class="result-badge result-pass">✓ 通过</span>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
</body>
</html>